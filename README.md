# üß† AI Accountant (FastAPI + Test Frontend)

–ü—Ä–æ–µ–∫—Ç —Å –ò–ò‚Äë–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–º –¥–ª—è –±—É—Ö–≥–∞–ª—Ç–µ—Ä–∞.

–ü—Ä–æ–µ–∫—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑:

* backend –Ω–∞ **FastAPI** (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, JWT, –∑–∞–ø—Ä–æ—Å—ã –∫ –ò–ò, –∏—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–∞);
* –ø—Ä–æ—Å—Ç–æ–≥–æ **HTML‚Äë—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞** –¥–ª—è —Ä—É—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API.

–ü—Ä–æ–µ–∫—Ç –æ—Ç–ª–∏—á–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –∫–∞–∫:

* —É—á–µ–±–Ω—ã–π –ø—Ä–∏–º–µ—Ä backend + frontend —Å–≤—è–∑–∫–∏;
* –∑–∞–≥–æ—Ç–æ–≤–∫–∞ –¥–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ –≤–µ–±‚Äë–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞;
* –ø–µ—Å–æ—á–Ω–∏—Ü–∞ –¥–ª—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ —Å –ò–ò‚Äë–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–º.

---

## üöÄ –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

* Python 3.10+
* FastAPI
* Uvicorn
* JWT (python‚Äëjose)
* Passlib (bcrypt)
* HTML + Vanilla JavaScript (fetch API)

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (–ø—Ä–∏–º–µ—Ä–Ω–æ)

```
ai-accountant-update/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ main.py
‚îÇ   ‚îú‚îÄ‚îÄ auth/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ router.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ utils.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ schemas.py
‚îÇ   ‚îú‚îÄ‚îÄ assistant/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ router.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ schemas.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ service.py
‚îÇ   ‚îî‚îÄ‚îÄ core/
‚îÇ       ‚îî‚îÄ‚îÄ config.py
‚îÇ
‚îú‚îÄ‚îÄ test_frontend.html
‚îú‚îÄ‚îÄ requirements.txt
‚îî‚îÄ‚îÄ README.md
```

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ backend (FastAPI)

### 1Ô∏è‚É£ –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

```bash
git clone <repo_url>
cd ai-accountant-update
```

---

### 2Ô∏è‚É£ –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è

**Windows:**

```powershell
python -m venv .venv
.venv\Scripts\Activate
```

**Linux / macOS:**

```bash
python3 -m venv .venv
source .venv/bin/activate
```

---

### 3Ô∏è‚É£ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

---

### 4Ô∏è‚É£ –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ FastAPI

```bash
python -m uvicorn app.main:app --reload
```

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:

```
http://127.0.0.1:8000
```

Swagger (–∞–≤—Ç–æ‚Äë–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API):

```
http://127.0.0.1:8000/docs
```

---

## –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è JWT‚Äë–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è.

1. –í—ã–ø–æ–ª–Ω–∏—Ç—å –ª–æ–≥–∏–Ω —á–µ—Ä–µ–∑ endpoint:

```
POST /auth/auth/login
```

2. –í –æ—Ç–≤–µ—Ç–µ –ø—Ä–∏–¥—ë—Ç `access_token`.
3. –¢–æ–∫–µ–Ω –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ:

```
Authorization: Bearer <token>
```

–ë–µ–∑ —Ç–æ–∫–µ–Ω–∞ –¥–æ—Å—Ç—É–ø –∫ –ò–ò‚Äë—ç–Ω–¥–ø–æ–∏–Ω—Ç—É –∑–∞–ø—Ä–µ—â—ë–Ω.

---

## –≠–Ω–¥–ø–æ–∏–Ω—Ç –ò–ò‚Äë–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞

```
POST /api/v1/assistant/query
```

### –ü—Ä–∏–º–µ—Ä —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞:

```json
{
  "query": "–ö–∞–∫ —É—á–∏—Ç—ã–≤–∞—Ç—å –ù–î–°?",
  "session_id": "test_session",
  "history": [
    { "role": "user", "content": "–ü—Ä–∏–≤–µ—Ç" },
    { "role": "assistant", "content": "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ!" }
  ]
}
```

### –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:

```json
{
  "answer": "–û—Ç–≤–µ—Ç –ò–ò..."
}
```

–ò—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–∞ —Ö—Ä–∞–Ω–∏—Ç—Å—è –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞.

---

## –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (HTML)

–¢–µ—Å—Ç–æ–≤—ã–π —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ ‚Äî —ç—Ç–æ **–æ–±—ã—á–Ω—ã–π HTML‚Äë—Ñ–∞–π–ª**, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ.

### 1Ô∏è‚É£ –°–ø–æ—Å–æ–±—ã –∑–∞–ø—É—Å–∫–∞

#### –í–∞—Ä–∏–∞–Ω—Ç 1 ‚Äî —á–µ—Ä–µ–∑ VS Code (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

* –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ **Live Server**
* –û—Ç–∫—Ä—ã—Ç—å `test_frontend.html`
* –ù–∞–∂–º–∞—Ç—å `Open with Live Server`

–§–∞–π–ª –æ—Ç–∫—Ä–æ–µ—Ç—Å—è, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ –∞–¥—Ä–µ—Å—É:

#### –í–∞—Ä–∏–∞–Ω—Ç 2

python -m http.server 5500 

* –ó–∞–ø—É—Å—Ç–∏—Ç—å backend:
```
uvicorn app.main:app --reload
```

* –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä:
```
python -m http.server 5500
```

* –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
```
http://127.0.0.1:5500/test_frontend.html
```

---

### 2Ô∏è‚É£ –†–∞–±–æ—Ç–∞ —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º

1. –í–≤–µ—Å—Ç–∏ email –∏ –ø–∞—Ä–æ–ª—å
2. –ù–∞–∂–∞—Ç—å **¬´–í–æ–π—Ç–∏¬ª** ‚Äî –ø–æ—è–≤–∏—Ç—Å—è JWT‚Äë—Ç–æ–∫–µ–Ω
3. –í–≤–µ—Å—Ç–∏ –≤–æ–ø—Ä–æ—Å
4. –ù–∞–∂–∞—Ç—å **¬´–°–ø—Ä–æ—Å–∏—Ç—å¬ª**
5. –û—Ç–≤–µ—Ç –ò–ò –ø–æ—è–≤–∏—Ç—Å—è –Ω–∏–∂–µ
6. –ò—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–∞ –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤ –±–ª–æ–∫–µ ¬´–ò—Å—Ç–æ—Ä–∏—è¬ª

---

## üß† –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞

* –ü—Ä–æ—Å—Ç–∞—è –∏ –ø—Ä–æ–∑—Ä–∞—á–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
* –Ø–≤–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –∏—Å—Ç–æ—Ä–∏–∏ –¥–∏–∞–ª–æ–≥–∞
* –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –∏ –¥–æ—Ä–∞–±–æ—Ç–∫–∏
* –£–¥–æ–±–µ–Ω –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ —á–µ—Ä–µ–∑ Swagger –∏ HTML

---

## –ò–¥–µ–∏ –¥–ª—è —Ä–∞–∑–≤–∏—Ç–∏—è

* –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –≤ –ë–î
* –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–µ—Å—Å–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
* –ö—Ä–∞—Å–∏–≤—ã–π UI (React / Vue)
* Streaming‚Äë–æ—Ç–≤–µ—Ç—ã –æ—Ç –ò–ò
* –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
